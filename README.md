# 实现小程序自动编译

## 使用
```bash
npm install

# 开发（实时编译）
npm run dev
# 打包
npm run build
```

## todo
 - [x] 支持编写scss
 - [x] 实时编译
 - [x] 加入scss全局混入，避免每个页面重复引入全局样式
 - [x] css中图片自动base64(可配置阈值，**因小程序中的本地资源图片无法通过 WXSS 获取**，可以使用网络图片，或者 base64，或者使用<image/>标签，**使用css作为图片背景要确保会被转为base64**)，约定被打包为图片背景的图片目录放在当前的pages/**/wxml同级的目录下(会忽略此路径下的图片拷贝)
 - [ ] js模块化引入(，考虑是否有必要支持全局global混入?)

## 注意
- 小程序支持的npm方式，需要将package.json文件放在src(dist)目录下，否则会构建失败
- 约定被打包为图片背景的图片目录放在当前的pages/**/wxml同级的目录下(会忽略此路径下的图片拷贝)

## 实现考虑
- 配置项目目录，小程序页面划分为了单独的目录，按页面目录划分出entry
- 添加不同的loader处理文件内容
- 样式文件为wxss，需要处理scss后输出既定的文件格式
- 未配置的入口文件应该全部输出到同层级的指定目录下
- js提取公共代码
- webpack4设置模式未生效，暂时先设置两套webpack配置